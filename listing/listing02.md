Что выведет программа? Объяснить вывод программы. Объяснить как работают defer’ы и их порядок вызовов.

```go
package main

import (
	"fmt"
)


func test() (x int) {
	defer func() {
		x++
	}()
	x = 1
	return
}


func anotherTest() int {
	var x int
	defer func() {
		x++
	}()
	x = 1
	return x
}


func main() {
	fmt.Println(test())
	fmt.Println(anotherTest())
}
```

Ответ:
```
2
1
```
Данный вывод объясняется тем, что при именованном возвращаемом значении возвращается непосредственно переменная, с которой работает функция, а при возврате переменной с помощью return значение его операнда копируется в некоторую скрытую переменную, которая и возвращается из функции, поэтому дальнейшие действия с переменной-операндом в отложенной функции не имеют смысла. Именно поэтому отложенные функции, модифицируя именованное возвращаемое значение, могут оказать влияние на вывод.

Функция, отложенная выражением defer, выполняется между вычислением операндов выражения return с сохранением их в буфер, и выходом из функции с возвратом значений, при чем операнды отложенных функций высчитываются заранее при вызове defer и откладываются вместе с вызовом функции в специальный стек. Отложенные функции вызываются из стека в обратном порядке их отложения.